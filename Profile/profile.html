<!DOCTYPE html>
<html>
<head>
 <link rel="icon" href="../images/bc32_mcU_icon.ico" type="image/x-icon">
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <meta charset="UTF-8">
 <meta name="google" content="notranslate">
 <meta http-equiv="Content-Language" content="en">
 <link href="../stylesheets/style.css" rel="stylesheet">
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
 <script src="http://code.jquery.com/jquery-1.11.1.js" type="text/javascript"></script>
 <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

</head>

<body onload="checkLocalStorage('profile');loadUserData();" id="body">
    <!-- sidebar. -->
    <div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" id="closebtn" class="closebtn" onclick="closeNav()">&times;</a>
    <p></p>
    <center id="profile_pic"></center>
    <center>
      <p class="navname"></p>
    </center>
    <center>
      <p class="profile">
        <button class="my-profile-btn"><a href="../Profile/profile.html" id="profile-a"><p>My Profile</p></a></button>
      </p>
    </center>
    <br/>
      <div class="sidenav-links">
        <a href="../Newsfeed/newsfeed.html">
          <img src="../images/rss@3x.png" width="19" height="19">&nbsp&nbsp Newsfeed
        </a>
        <a href="#" id="myBtn">
          <img src="../images/add-icon.png" width="20" height="20">&nbsp&nbsp Create 
        </a>
        <a href="../Q.O.D./qod.html">
          <img src="../images/compass@3x.png" width="19" height="19">&nbsp&nbsp Q.O.D
        </a>
        <a href="../Calendar/calendar.html">
          <img src="../images/calendar (1)@3x.png" width="19" height="19">&nbsp&nbsp Calendar
        </a>
        <a href="../Favorites/favorites.html">
          <img src="../images/heart@3x.png" width="19" height="19">&nbsp&nbsp My Favorites
        </a>
        <a href="../ProductionProfiles/production_profiles.html">
          <img src="../images/stage@3x.png" width="19" height="19">&nbsp&nbsp Production Profiles
        </a>
        <a href="../CompanyProfiles/company_profiles.html">
          <img src="../images/building@3x.png" width="19" height="19">&nbsp&nbsp Company Profiles
        </a>
        <a href="../B.O.B./bob.html">
          <img src="../images/briefcase@3x.png" width="19" height="19">&nbsp&nbsp Business of Broadway 
        </a>
        <a href="../Contact/contact.html">
          <img src="../images/info@3x.png" width="19" height="19">&nbsp&nbsp FAQ & Contact Us
        </a>
      </div>
  </div>
  <!-- sidebar. --> 
  <div class="navbar">
    <span class="open_sidenav" onclick="openNav()">
      <img src="../images/side button2.png">
    </span>
    <a href="../Newsfeed/newsfeed.html" class="logo-a">
      <img class="logo" src="../images/bc_solo_logo.png">
    </a>
    <a href='../Newsfeed/newsfeed.html'>
      <p>Newsfeed</p>
    </a>
    <a href='../Discover/discover.html'>
      <p>Discover</p>
    </a>
    <a href='../Explore/explore.html'>
      <p>Explore</p>
    </a>
    <div class="signout">
      <div class="search" id="input-container">
        <input type="text" id="search_query_input" placeholder="Search..." value>
        <img src="../images/search-icon.png" id="input_img">
      </div>
      <button class="signout-button" onclick="signout()">Sign Out</button>
    </div> 
  </div>

    <script>
      var input1 = document.getElementById("search_query_input");
      input1.addEventListener("keyup", function (event) {
        event.preventDefault();
        if (event.keyCode === 13) {
          // alert(input1.value);
          redirectToResultsPage(input1.value)
          // getSearchResults(input1.value);
        }
      });
    </script>
 
  <div class="profile_wrapper" style="margin-top: 180px;
  padding-bottom: 15%;">
    <div class="user_profile_left">
      <div class="user_img" id="user_img">
        
      </div>
      <p class="name" id="name"></p>
      <p class="username" id="username"></p>
      <p class="title" id="headline_position"></p>
      <!-- <p class="organization">@BroadwayConnectedInc</p> -->
      <p class="user_type" id="user_type"></p>
      
      <!--THESE SHOULD BE CONDITIONAL, ONLY SHOWN FOR PERSONAL USER ACCOUNTS -->
      <!-- <p class="briefcase_icon">
        <img src="../images/briefcase.png">
      </p>
      <p class="previous">Previous:</p>
      <p class="previous_job"></p> -->
      <p class="location_icon">
        <img src="../images/compass.png">
      </p>
      <p class="location" id="location"></p>
      <center><button class="view-more"><a href="../Profile/edit.html"><p>Full Profile</p></a></button></center>
      <a href="#" id="myModal"><img src="../images/penciliconblue.png" class="edit-button"></a>
    </div>



<!-- =============== EDIT MODAL ================ -->
<div id="createModalx" class="create-modal">
  <div class="create-modal-contenty" id="create-modal-contentx">
  <span class="create-closex">&times;</span>
    <h1>Edit Information</h1>
    <form>
      <span class="edit-left1">
        <label id="edit-first">FIRST NAME</label>
        <br>
        <input type="text" id="input-first" name="articles" placeholder="First">
      </span>
      <span class="edit-right1">
        <label id="edit-last">LAST NAME</label>
        <input type="text" id="input-last" name="articles" placeholder="Last">
      </span>
      <span class="edit-left2">
        <label id="edit-username">USERNAME</label>
        <br>
        <input type="text" id="input-handle" name="articles">
      </span>
      <span class="edit-right2">
        <label id="edit-headline">HEADLINE</label>
        <br>
        <input type="text" id="input-headline" name="articles">
      </span>
      <span class="edit-left3">
        <label id="edit-job-title">JOB TITLE</label>
        <br>
        <input type="text" id="input-job-title" name="articles">
      </span>
      <span class="edit-right3">
        <label id="edit-company">COMPANY</label>
        <br>
        <input type="text" id="input-company" name="articles">
      </span>
      <span class="edit-left4">
        <label id="edit-previous-job">PREVIOUS JOB</label>
        <br>
        <input type="text" id="input-previous" name="articles">
      </span>
      <span class="edit-right4">
        <label id="edit-previous-company">PREVIOUS COMPANY</label>
        <br>
        <input type="text" id="input-previous-company" name="articles">
      </span>
      <span class="edit-left5">
        <label id="edit-email">EMAIL</label>
        <br>
        <input type="text" id="input-email" name="articles">
      </span>
      <span class="edit-right5">
        <label id="edit-phone">PHONE</label>
        <br>
        <input type="text" id="input-phone" name="articles">
      </span>
      <span class="edit-left6">
        <label id="edit-city">CITY</label>
        <br>
        <input type="text" id="input-city" name="articles">
      </span>
      <span class="edit-right6">
        <label id="edit-country">COUNTRY</label>
        <br>
        <input type="text" id="input-country" name="articles">
      </span>
      <div class="articles-extra-buttons">
        <a href="" class="attach-photo">
          <img src="../images/image.png">
        </a>
      </div>
      <span class="toggle">
        <label class="switch1">
        <p>Public / Private</p>
          <input type="checkbox">
          <span class="slider round"></span>
        </label>
          <!-- <p class="checkbox-profile"> -->
 
        <label class="switch2">
        <p>Header Is Current Position</p>
          <input type="checkbox">
          <span class="slider round"></span>   
        </label>
      </span>
    </form>
      <button class="save-changes" onclick="updateUser()">Save Changes</button>
  </div>
</div>

<script>
  var modalx = document.getElementById('createModalx');
  var btnx = document.getElementById("myModal");
  var spanx = document.getElementsByClassName("create-closex")[0];
  btnx.onclick = function() {
    fillProfileEditor();
    modalx.style.display = "block";
  }
  spanx.onclick = function() {
    modalx.style.display = "none";
  }
  window.onclick = function(event) {
    if (event.target == modalx) {
      modalx.style.display = "none";
    }
  }
</script>


    
    <div class="second_nav_right">
      <!-- <a href="#"><p>Milestones</p></a>
      <a href="#"><p>Moments</p></a> -->
      <a href="#" onclick="toggleAndLoadFollowings();">
        <p class="p-tag" id="following">Following</p>
      </a>
      <a href="#" onclick="toggleAndLoadFollowers();">
        <p class="p-tag" id="followers">Followers</p>
        </a>
      <a href="#" onclick="toggleVisibility('profile-calendar');">
        <p class="p-tag" id="calendar">Calendar</p>
      </a>
      <a href="#" onclick="toggleVisibility('profile-postsbox');">
        <p class="p-tag" id="userfeed">User Feed</p>
      </a>
      
      <div id="profile-postsbox">
        <h1>Loading ...</h1>
      </div>
      <div id="profile-calendar">
        <h1>Calendar is Coming Soon...</h1>
      </div>
      <div id="profile-followers">
        <!-- <h1>Followers is Coming Soon...</h1> -->
      </div>
      <div id="profile-following">
      <!-- <h1>Following is Coming Soon...</h1> -->
      </div>
    </div>

  </div>
  <script>
    $(".p-tag").click(function() {
      $(".p-tag").removeClass("active");
      $(this).addClass("active");
    });
  </script>

 <script>
   function openNav() {
     document.getElementById("mySidenav").style.width = "250px";
   }
   function closeNav() {
     document.getElementById("mySidenav").style.width = "0";
   }
 </script>










 <!-- ========== M I L E S T O N E S  M O D A L ===========  -->
 <div id="createModal" class="create-modal">
  <div class="create-modal-content" id="create-modal-content">
    <!-- <div class="tab"> -->
    <span class="create-close">&times;</span>
    <div class="column1">
      <h3 onclick="openCity(event, 'create-milestones')">Milestones</h3>
      <img src="../images/milestones.jpg">
      <h4>Milestones are a way to broadcast what YOU have been up to in theatre! This feature will allow you to keep track
        of where you've gone & where you're going. The best part? You can make them public or visible to only you!</h4>
      <div class="create-button-wrapper">
        <button class="create-button" id="p2" onclick="openCity(event, 'create-milestones')">
          <a href="#" style="text-decoration: none;">
            <p>ADD NEW</p>
          </a>
        </button>
      </div>
    </div>
    <div class="column2">
      <h3 onclick="openCity(event, 'create-moments')">Moments</h3>
      <img src="../images/moments.jpg">
      <h4>Sometimes really cool things happen: you run into your favorite Broadway star on the street, attend opening night,
        or that show finally toured to your city. Share those times that make you feel like the luckiest person out there!</h4>
      <div class="create-button-wrapper">
        <button class="create-button" id="p2" onclick="openCity(event, 'create-moments')">
          <a href="#" style="text-decoration: none;">
            <p>ADD NEW</p>
          </a>
        </button>
      </div>
    </div>
    <div class="column3">
      <h3 onclick="openCity(event, 'create-articles')">Articles</h3>
      <img src="../images/articles.jpg">
      <h4>Extra, extra, read AND write all about it! Write your way through your theatrical journey. You can write and post
        reviews, interviews, opinion pieces, or anything theatre and share it with other BC users!</h4>
      <div class="create-button-wrapper">
        <button class="create-button" id="p2" onclick="openCity(event, 'create-articles')">
          <a href="#" style="text-decoration: none;">
            <p>ADD NEW</p>
          </a>
        </button>
      </div>
    </div>
    <div class="column4">
      <h3 onclick="openCity(event, 'create-events')">Events</h3>
      <img src="../images/events.jpg">
      <h4>Whether you're starring in your 20th Broadway musical or lighting your first show- invite your friends! From the
        first reading all the way to closing night, you're able to host events that users can easily RSVP to!</h4>
      <div class="create-button-wrapper">
        <button class="create-button" id="p2" onclick="openCity(event, 'create-events')">
          <a href="#" style="text-decoration: none;">
            <p>ADD NEW</p>
          </a>
        </button>
      </div>
    </div>

    <!-- </div> --> 

    <div id="create-milestones" class="tabcontent">
      <h3>Add a Milestone</h3>
      <form>
        <p class="milestone-left">
          <label class="milestone-label">Type</label>
          <br>
          <select id="milestone-type">
            <option value="" disabled selected>Select Milestone Type</option>
            <option value="Casted as Photo">Was Cast As</option>
            <option value="First Rehearsal">First Rehearsal</option>
            <option value="Opening Night">Opening Night</option>
            <option value="First Day Of Work">First Day Of Work</option>
            <option value="First Broadway Show">First Broadway Show</option>
            <option value="Audition">Audition</option>
            <option value="Call Back">Callback</option>
            <option value="Offer">Offer</option>
          </select>
        </p>
        <script>
          function setMilestoneImg() {
            var img = document.getElementById("image");
            var milestone_type = document.getElementById("milestone-type").value
            switch (milestone_type) {
              case "Casted as Photo":
                img.src = "../images/milestones-img1.png";
                break;

              case "First Rehearsal":
                img.src = "../images/milestones-img2.png";
                break;

              case "Opening Night":
                img.src = "../images/milestones-img3.png";
                break;

              case "First Day Of Work":
                img.src = "../images/milestones-img4.png";
                break;

              case "First Broadway Show":
                img.src = "../images/milestones-img5.png";
                break;

              case "Audition":
                img.src = "../images/milestones-img6.png";
                break;

              case "Call Back":
                img.src = "../images/milestones-img7.png";
                break;

              case "Offer":
                img.src = "../images/milestones-img8.png";
                break;
            }

            setFixedTextMilestone()

            return false;
          }
          document.getElementById("milestone-type").onchange = setMilestoneImg;

          function setFixedTextMilestone() {
            var milestone_type = document.getElementById("milestone-type").value;
            var ft1 = "";

            switch (milestone_type) {
              case "Casted as Photo":
                ft1 = "Got cast as";
                break;

              case "First Rehearsal":
                ft1 = "First day of rehearsal as";
                break;

              case "Opening Night":
                ft1 = "Opening night of";
                break;

              case "First Day Of Work":
                ft1 = "First day of work as";
                break;

              case "First Broadway Show":
                ft1 = "Saw first Broadway Show";
                break;

              case "Audition":
                ft1 = "Auditioned for";
                break;

              case "Call Back":
                ft1 = "Got called back for";
                break;

              case "Offer":
                ft1 = "Got an offer for";
                break;
            }

            document.getElementById("milestone-fixed-text1").innerHTML = ft1;
          }
        </script>

        <p class="milestone-right">
          <img id="image" src="../images/bc-logo.png">
        </p>

        <p class="milestone-left2">
          <label class="milestone-label" for="milestone-label1" id="milestone-fixed-text1">Milestone Type</label>
          <input class="milestone-text" id="milestone-text1" type="text" placeholder="" onfocus="checkIfMilestoneTypeSelected()">
        </p>
        <p class="milestone-right2">
          <select id="milestone-fixed-text2" onfocus="checkIfMilestoneTypeSelected()">
            <option value="" disabled selected>In / At</option>
            <option value="in">In</option>
            <option value="at">At</option>
          </select>
          <input type="text" id="city" list="comp-prod-list" onfocus="checkIfMilestoneTypeSelected()" placeholder="Enter Company/Production Name">
          <datalist id="comp-prod-list">
          </datalist>
        </p>
        <p class="milestone-center">
          <label class="milestone-label" for="milestone-description">Description</label>
          <br>
          <textarea class="milestone-text" id="milestone-description" onfocus="checkIfMilestoneTypeSelected()" rows="4" cols="50" maxlength="300" placeholder="Add Description 300 Characters or Less"></textarea>
          <span id='remaining-milestone' style="color: #226BE4; font-size: 14px;"></span>
        </p>
        <button class="input-button" id="btnPostMilestone" onclick="createMilestone()">Post</button>
      </form>
    </div>
    <div id="create-moments" class="tabcontent">
      <h3>Add a Moment</h3>
      <form>
        <p class="moments-left">
          <label class="moments-label">Type</label>
          <br>
          <select id="moments-type">
            <option value="" disabled selected>Select Moments Type</option>
            <option value="option1">Moments Option 1</option>
            <option value="option2">Moments Option 2</option>
            <option value="option3">Moments Option 3</option>
          </select>
        </p>
        <p class="moments-right">
          <input class="attach-photo" type="image" src="../images/image.png" />
          <input type="file" id="moment-image" src="../images/image.png" onchange="companyImage(event)" style="display: none;" />
          <canvas width="300" height="300" id="mycanvascompany" style="display: none;"></canvas>
          <script>
            $("input[type='image']").click(function () {
              $("input[id='moment-image']").click();
            });
          </script>
        </p>
        <p class="moments-left2">
          <label class="moments-label" for="moments-label1">Fixed Text</label>
          <br>
          <input class="moments-text" id="moments-text1" type="text" placeholder="Moments Fixed Text">
        </p>
        <p class="moments-right2">
          <label class="moments-label" for="moments-label2">Fixed Text</label>
          <br>
          <input class="moments-text" id="moments-text2" type="text" placeholder="Moments Fixed Text">
        </p>
        <p class="moments-center">
          <label class="moments-label" for="moments-description">Description</label>
          <br>
          <textarea class="moments-text" id="moments-text1" rows="4" cols="50" maxlength="300" onfocus="checkIfMomentTypeSelected()" placeholder="Moments Description"></textarea>
          <span id='remaining-moment' style="color: #226BE4; font-size: 14px;"></span>
        </p>
        <button class="input-button">Post</button>
      </form>
    </div>

    <div id="create-articles" class="tabcontent">
      <h3>What do you want to write about? Post it here!</h3>
      <form>
        <span class="left">
          <label id="a-header">Header</label>
          <input type="text" id="articles-header" name="articles" placeholder="Header">
        </span>
        <span class="right">
          <label id="a-title">Title</label>
          <input type="text" id="articles-title" name="articles" placeholder="Title">
        </span>
        <span class="center">
          <label id="a-body">Body</label>
          <input type="text" class="articles-body" id="articles-body" name="articles" placeholder="New article goes here...">
          <span id='remaining-article' class="remaining-article" style="color: #226BE4; font-size: 14px;"></span>

          <label id="a-tag">Tags</label>
          <input type="text" id="articles-tag" name="articles" placeholder="tags">
        </span>

      </form>
      <div class="articles-extra-buttons">
        <!-- <a href="" class="attach-photo">
          
          <img src="../images/image.png">
        </a> -->
        <!-- <a href="" class="privacy-btn">
          <img src="../images/lock.png">
        </a> -->
        <input type="file" id="article-image" onchange="getArticleImage(event)" />
        <canvas width="300" height="300" id="myArticleCanvas" style="display: none;"></canvas>
      </div>
        <button class="input-button" id="btn-post-article" onclick="create_article()">Post</button>
    </div>

    <div id="create-events" class="tabcontent">
      <h3>Hosting a theatrical event? Promote it here!</h3>
      <form>
        <span class="left">
          <label id="e-header">Header</label>
          <input type="text" id="events-header" name="articles" placeholder="Header">
        </span>
        <span class="right">
          <label id="e-title">Title</label>
          <input type="text" id="events-title" name="articles" placeholder="Title">
        </span>
        <span class="center">
          <label id="e-body">Body</label>
          <textarea id="events-body" rows="4" cols="50" maxlength="300" placeholder="New event goes here..."></textarea>

          <label id="e-tag">Tags</label>
          <input type="text" id="events-tag" name="articles" placeholder="tags">
        </span>
      </form>
      <div class="events-extra-buttons">
        <input class="attach-photo" type="image" src="../images/image.png" />
        <input type="file" id="events-image" src="../images/image.png" onchange="companyImage(event)" style="display: none;" />
        <canvas width="300" height="300" id="mycanvascompany" style="display: none;"></canvas>
        <script>
          $("input[type='image']").click(function () {
            $("input[id='events-image']").click();
          });
        </script>
      </div>
      <button class="input-button">Post</button>
    </div>
  </div>
</div>


<script>
  function openCity(evt, cityName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
      tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
      tablinks[i].className = tablinks[i].className.replace("   active", "");
    }
    document.getElementById(cityName).style.display = "block";
    evt.currentTarget.className += " active";
  }
</script>
<script>
  //open general create modal
  var modalx = document.getElementById('createModal');
  var btnx = document.getElementById("myBtn");
  var spanx = document.getElementsByClassName("create-close")[0];
  btnx.onclick = function () {
    // call function to populate the companies and productions
    getCompaniesProduction();
    modalx.style.display = "block";
    document.getElementById("mySidenav").style.width = "0";
  }
  spanx.onclick = function () {
    modalx.style.display = "none";
  }
  window.onclick = function (event) {
    if (event.target == modalx) {
      modalx.style.display = "none";
    }
  }
</script>
<script src="../javascript/register.js"></script>
<script type="text/javascript" src="../javascript/jsDate.js"></script>
<script type="text/javascript" src="../javascript/search.js"></script>
<script type="text/javascript" src="../javascript/profile.js"></script>
<script type="text/javascript" src="../javascript/loadAndRender.js"></script>
<script type="text/javascript" src="../javascript/createThings.js"></script>
<script type="text/javascript" src="../javascript/article.js"></script>

</body>
</html>