<html>

<head>
    <link rel="icon" href="./images/bc32_mcU_icon.ico" type="image/x-icon">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Broadway Connected</title>
    <link href="./stylesheets/style.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Tajawal" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w"
        crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

    <!-- Datepicker JQuery -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <style>
.btnDisabled{
  border: 1px solid #999999;
  background-color: #cccccc;
  color: #666666;
}

    </style>
</head>

<script src="./javascript/register.js"></script>
<script>
    if (navigator.userAgent.indexOf("MSIE") != -1) {
        createCustomAlert('For the best experience, please browse our website with Google Chrome.');
    }
</script>

<!-- Datepicker js -->
<script>
    $(function () {
        $("#personal-dateOfBirth").datepicker();
    });

    $(function () {
        $("#production-opening").datepicker();
    });

    $(function () {
        $("#production-closing").datepicker();
    });
</script>

<body class="body" id="body">

    <!-- navigation bar -->
    <div class="navbar" id="myTopnav">
        <img class="logo-image" src="./images/bc_solo_logo.png" alt="Broadway Connected">
        <div class="signout-x">
            <button class="signout-button" id="navbarLoginBtn">Log In</button>
        </div>
        <div class="signout-y">
            <button class="signout-button" id="navbarSignUpBtn">Sign Up</button>
        </div>
    </div>

    <!-- modal login -->
    <div id="myModal1" class="index-modal">
        <div class="index-modal-content">
            <a href="#login" class="a-login">Log In</a>
            <hr>
            <br>
            <span class="close"></span>
            <div class="create">
                <div class="login-create" data-type="login">
                    <form class="login-create">
                        <p class="login-email">
                            <label class="label-email" for="signin-email">YOUR E-MAIL</label>
                            <input class="input-email" id="signin-email" type="email" placeholder="E-mail">
                            <span class="input-error">Error message here!</span>
                        </p>
                        <p class="login-password">
                            <label class="label-password" for="signin-password">PASSWORD</label>
                            <input class="input-password" id="signin-password" type="password" placeholder="Password">
                            <a href="#0" class="hide">Hide</a>
                            <span class="error">Error message here!</span>
                        </p>
                        <p class="login-submit">
                            <input class="input-submit" type="button" id="loginBtn" value="Log In" onclick="signin()">
                        </p>
                        <p class="forgot-password">
                          <a href="#">Forgot Password</a>
                        </p>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- modal sign-up -->
    <div id="myModal2" class="index-modal">
        <div class="index-modal-content">
            <a href="#login" class="a-login">Sign Up</a>
            <hr>
            <div class="signin" id="signin" data-type="signup">
                <form class="signin-form">
                    <p class="signin-usertype">
                        <label class="signin-label">USER TYPE</label>
                        <select id="signup-usertype" class="styled-select blue semi-square" onchange="checkUserType()">
                            <option value="" disabled selected>Select User Type</option>
                            <option value="personal">Personal</option>
                            <option value="company">Company</option>
                            <option value="production">Production</option>
                        </select>
                    </p>
                    <p class="first_name">
                        <label class="signin-label" for="signup-firstname">FIRST NAME</label>
                        <input class="signin-firstname" id="signup-firstname" type="text" placeholder=" Your First Name">
                        <span class="signin-error">Error message here!</span>
                    </p>
                    <p class="last_name">
                        <label class="signin-label" for="signup-lastname">LAST NAME</label>
                        <input class="signin-lastname" id="signup-lastname" type="text" placeholder="Your Last Name">
                        <span class="signin-error">Error message here!</span>
                    </p>
                    <!-- <p class="signin-fullname" id="signin-fullname" style="display: none;">
                        <label id="fullname_label" class="signin-label"></label>
                        <input class="signin-handle" id="signup-fullname" type="text" placeholder="">
                    </p> -->
                    <p class="handle">
                        <label class="signin-label" for="signup-handle">HANDLE</label>
                        <input class="signin-handle" id="signup-handle" type="text" placeholder="Handle" onfocusout="handleIsUnique(document.getElementById('signup-handle').value)">
                        <span class="signin-error">Error message here!</span>
                    </p>
                    <p class="signin-email">
                        <label class="email">E-MAIL</label>
                        <input class="input-email" id="signup-email" type="email" placeholder="E-mail" onfocusout="checkEmail(document.getElementById('signup-email').value)">
                        <span class="email">Error message here!</span>
                    </p>
                    <p class="signin-password">
                        <label class="account-password">PASSWORD</label>
                        <input class="input-account" id="signup-password" type="password" placeholder="Password">
                        <a href="#0" class="hide">Hide</a>
                        <span class="error">Error message here!</span>
                    </p>
                    <p class="signin-password">
                        <label class="account-password">CONFIRM PASSWORD</label>
                        <input class="input-account" id="signup-confirm-password" type="password" placeholder="Confirm Password" onfocusout="checkPasswordsMatch(document.getElementById('signup-password').value,document.getElementById('signup-confirm-password').value)">
                        <a href="#0" class="hide">Hide</a>
                        <span class="error">Error message here!</span>
                    </p>
                    <!-- <p class="signin-city">
                        <label class="signin-label">CITY</label>
                        <input class="signin-city" id="signup-city" type="text" placeholder="City">
                    </p>
                    <p class="signin-country">
                        <label class="signin-label">COUNTRY</label>
                        <input class="signin-country" id="signup-country" type="text" placeholder="Country">
                    </p>
                    <p class="signin-phone">
                        <label class="signin-label">PHONE</label>
                        <input class="signin-phone" id="signup-phone" type="text" placeholder="Phone" onfocusout="checkPhoneNumber(document.getElementById('signup-phone').value)">
                    </p> -->
                    <p class="choose-img">
                        <input type="file" id="imageinput" onchange="testit(event)" />
                        <canvas width="300" height="300" id="mycanvas" style="display: none;"></canvas>
                    </p>
                    <p class="signin-submit">
                        <input class="input-submit" type="button" value="Next >>>" onclick="showNextModal()">
                    </p>
                </form>
            </div>
        </div>
    </div>

    <!-- modal company info -->
    <div id="myModalCompany" class="index-modal">
        <div class="index-modal-content">
            <a href="#login" class="company-login">Company Info</a>
            <hr>
            <div class="signin" id="signin" data-type="signup">
                <form class="signin-form">
                    <p class="c-left">
                        <label class="signin-label" for="signup-handle">Name of Company</label>
                        <br>
                        <input class="signin-handle" id="signup-companyName" type="text" placeholder="Enter Company Name">
                    </p>
                    <p class="c-right">
                        <label class="signin-label" for="signup-handle">Company Handle</label>
                        <input class="signin-handle" id="signup-companyHandle" type="text" placeholder="Enter Company Handle" onfocusout="handleIsUnique(document.getElementById('signup-companyHandle').value)">
                    </p>

                    <p class="c-left2">
                        <label class="signin-label">Type</label>
                        <br>
                        <select id="company-type">
                            <option value="" disabled selected>Select Company Type</option>
                            <option value="GeneralManagement">General Management</option>
                            <option value="Production">Production</option>
                            <option value="CompanyManagement">Company Management</option>
                            <option value="Press">Press</option>
                            <option value="MarketingAdvertising">Marketing/ Advertising</option>
                            <option value="Casting">Casting</option>
                            <option value="Organizations">Organizations</option>
                        </select>
                    </p>
                    <p class="c-right2">
                        <input type="file" id="company-image" onchange="companyImage(event)" />
                        <canvas width="300" height="300" id="mycanvascompany" style="display: none;"></canvas>
                    </p>
                    <p class="c-center">
                        <label class="signin-label" for="signup-firstname">Description</label>
                        <br>
                        <input class="signin-firstname" id="company-desc" type="text" placeholder="About The Company">

                        <label class="signin-label2" for="signup-lastname">Link</label>
                        <br>
                        <input class="signin-lastname" id="company-link" type="text" placeholder="Your Link">
                    </p>
                    <p class="signin-submit">
                        <input class="input-submit" type="button" value=" <<< Back" onclick="showSignUpModal()">
                    </p>
                    <p class="signin-submit">
                        <input class="input-submit" type="button" value="Next >>>" onclick="nextCompanyModal()">
                    </p>
                </form>
            </div>
        </div>
    </div>

    <!-- modal Company Account Manager -->
    <div id="myCompanyModalAccountManager" class="index-modal">
        <div class="index-modal-content">
            <a href="#login" class="a-login">Company User Account Info</a>
            <hr>
            <div class="signin" id="signin" data-type="signup">
                <form class="signin-form">
                    <p class="first_name">
                        <label class="signin-label" for="signup-firstname">Please use the email associated with your company. You may not use the same email address to manage
                            your personal and company profile.</label>
                    </p>
                    <p class="first_name">
                        <label class="signin-label" for="signup-firstname">FIRST NAME</label>
                        <input class="signin-firstname" id="signup-company-firstname" type="text" placeholder=" Your First Name">
                        <span class="signin-error">Error message here!</span>
                    </p>
                    <p class="last_name">
                        <label class="signin-label" for="signup-lastname">LAST NAME</label>
                        <input class="signin-lastname" id="signup-company-lastname" type="text" placeholder="Your Last Name">
                        <span class="signin-error">Error message here!</span>
                    </p>
                    <p class="signin-email">
                        <label class="email">E-MAIL</label>
                        <input class="input-email" id="signup-company-email" type="email" placeholder="E-mail" onfocusout="checkEmail(document.getElementById('signup-company-email').value)">
                        <span class="email">Error message here!</span>
                    </p>
                    <p class="signin-password">
                        <label class="account-password">PASSWORD</label>
                        <input class="input-account" id="signup-company-password" type="password" placeholder="Password">
                        <a href="#0" class="hide">Hide</a>
                        <span class="error">Error message here!</span>
                    </p>
                    <p class="signin-password">
                        <label class="account-password">CONFIRM PASSWORD</label>
                        <input class="input-account" id="signup-company-confirm-password" type="password" placeholder="Confirm Password" onfocusout="checkPasswordsMatch(document.getElementById('signup-company-password').value,document.getElementById('signup-company-confirm-password').value)">
                        <a href="#0" class="hide">Hide</a>
                        <span class="error">Error message here!</span>
                    </p>
                    <p class="signin-city">
                        <label class="signin-label">CITY</label>
                        <input class="signin-city" id="signup-company-city" type="text" placeholder="City">
                    </p>
                    <p class="signin-country">
                        <label class="signin-label">COUNTRY</label>
                        <input class="signin-country" id="signup-company-country" type="text" placeholder="Country">
                    </p>
                    <p class="signin-phone">
                        <label class="signin-label">PHONE</label>
                        <input class="signin-phone" id="signup-company-phone" type="text" placeholder="Phone" onfocusout="checkPhoneNumber(document.getElementById('signup-company-phone').value)">
                    </p>
                    <p class="signin-submit">
                        <input class="input-submit" type="button" value=" <<< Back" onclick="showSignUpModal()">
                    </p>
                    <p class="signin-submit">
                        <input class="input-submit" type="button" id="btnSignUpCompany" value="Sign Up" onclick="register()">
                    </p>
                </form>
            </div>
        </div>
    </div>

    <!-- modal Production info -->
    <div id="myProductionModal" class="index-modal">
        <div class="index-modal-content">
            <a href="#ProductionInfo" class="production-login">Production Info</a>
            <hr>
            <div class="signin" id="signin" data-type="signup">
                <form class="signin-form">
                    <p class="pro-left">
                        <label class="signin-label" for="signup-handle">Name of Production</label>
                        <input class="signin-handle" id="signup-productionName" type="text" placeholder="Enter Production Name">
                    </p>
                    <p class="pro-right">
                        <label class="signin-label">Type</label>
                        <select id="production-type">
                            <option value="" disabled selected>Select Production Type</option>
                            <option value="Broadway">Broadway</option>
                            <option value="OffBroadway">Off Broadway</option>
                            <option value="Regional">Regional</option>
                            <option value="Equity">Equity</option>
                            <option value="NonEquity">Non Equity</option>
                            <option value="Community">Community</option>
                            <option value="SpecialPerformance">Special Performance</option>
                            <option value="Summerstock">Summerstock</option>
                            <option value="FestivalPerformance">Festival Performance</option>

                        </select>
                    </p>
                    <p class="pro-left2">
                        <label class="signin-label" for="signup-firstname">Description</label>
                        <input class="signin-firstname" id="production-desc" type="text" placeholder="Enter Description">
                        <!-- <span class="signin-error">Error message here!</span> -->
                    </p>
                    <p class="pro-right2">
                        <label class="signin-label" for="signup-lastname">Status</label>
                        <select id="production-status">
                            <option value="" disabled selected>Select Production Status</option>
                            <option value="a">a</option>
                            <option value="b">b</option>
                        </select>
                        <!-- <span class="signin-error">Error message here!</span> -->
                    </p>
                    <p class="pro-left3">
                        <label class="signin-label" for="signup-firstname">Opening Date</label>
                        <input class="signin-firstname" id="production-opening" type="text" placeholder="Enter Opening Date">
                        <!-- <span class="signin-error">Error message here!</span> -->
                    </p>
                    <p class="pro-right3">
                        <label class="signin-label" for="signup-firstname">Closing Date</label>
                        <input class="signin-firstname" id="production-closing" type="text" placeholder="Enter Closing Date">
                        <!-- <span class="signin-error">Error message here!</span> -->
                    </p>
                    <p class="pro-left4">
                        <label class="signin-label" for="signup-firstname">Production Link</label>
                        <input class="signin-firstname" id="production-link" type="text" placeholder="Enter Link">
                        <!-- <span class="signin-error">Error message here!</span> -->
                    </p>
                    <p class="signin-submit">
                        <input class="input-submit" type="button" value="Back" onclick="showSignUpModal()">
                    </p>
                    <p class="signin-submit">
                        <input class="input-submit" type="button" id="btnProductionSubmit" value="Sign Up" onclick="register()">
                    </p>
                </form>
            </div>
        </div>
    </div>

    <!-- modal Personal info -->
    <div id="myPersonalModal" class="index-modal">
        <div class="index-modal-content">
            <a href="#PersonalInfo" class="personal-login">Personal Info</a>
            <hr>
            <div class="signin" id="signin" data-type="signup">
                <form class="signin-form">
                    <p class="p-left">
                        <label class="signin-label" for="signup-handle">Date Of Birth</label>
                        <br>
                        <input class="signin-handle" id="personal-dateOfBirth" type="text" placeholder="Enter Your Date of Birth">
                    </p>
                    <p class="p-right">
                        <label class="signin-label">Profile Type</label>
                        <br>
                        <select id="personal-type">
                            <option value="" disabled selected>Select Profile Type</option>
                            <option value="yes">Private</option>
                            <option value="no">Public</option>
                        </select>
                    </p>
                    <p class="p-center">
                        <label class="signin-label" for="signup-firstname">Headline</label>
                        <br>
                        <input class="signin-firstname" id="personal-headline" type="text" placeholder="Developer at Broadway Connected">
                        <!-- <span class="signin-error">Error message here!</span> -->
                    </p>
                    <p class="signin-submit">
                        <input class="input-submit" type="button" value="Back" onclick="showSignUpModal()">
                    </p>
                    <p class="signin-submit">
                        <input class="input-submit" type="button" id="btnSignupPersonal" value="Sign Up" onclick="register()">
                    </p>
                </form>
            </div>
        </div>
    </div>
    <!--Modal Script-->
    <script>
        // all modals
        var modal_login = document.getElementById('myModal1');
        var modal_signup = document.getElementById('myModal2');
        var modal_company = document.getElementById('myModalCompany');
        var modal_company2 = document.getElementById('myCompanyModalAccountManager');
        var modal_production = document.getElementById('myProductionModal');
        var modal_personal = document.getElementById('myPersonalModal');
        // navbar buttons
        var btn1 = document.getElementById("navbarLoginBtn");
        var btn2 = document.getElementById("navbarSignUpBtn");

        btn1.onclick = function () {
            console.log('button login clicked');
            modal_personal.style.display = "none"
            modal_production.style.display = "none"
            modal_company.style.display = "none";
            modal_company2.style.display = "none";
            modal_signup.style.display = "none";
            modal_login.style.display = "block";
        }

        btn2.onclick = function () {
            console.log('button sign up clicked');
            modal_personal.style.display = "none"
            modal_production.style.display = "none"
            modal_company.style.display = "none";
            modal_company2.style.display = "none";
            modal_login.style.display = "none";
            modal_signup.style.display = "block";
        }

        window.onclick = function (event) {
            console.log("close modals")
            if (event.target == modal_login) {
                modal_login.style.display = "none";
            }
            if (event.target == modal_signup) {
                modal_signup.style.display = "none";
            }
        }
    </script>
    <script>
        function checkUserType() {
            var x = document.getElementById("signup-usertype").value;
            if (x == "company") {
                // show company modal
                modal_signup.style.display = "none";
                modal_company.style.display = "block";

            }
        }
        function showNextModal() {

            // check if all fields are filled

            var email = document.getElementById('signup-email').value;
            var password = document.getElementById('signup-password').value;
            var confirm_password = document.getElementById('signup-confirm-password').value;
            var fname = document.getElementById('signup-firstname').value;
            var lname = document.getElementById('signup-lastname').value;
            var handle = document.getElementById('signup-handle').value;
            var x = document.getElementById("signup-usertype").value;

            if (checkIfFieldEmpty(x)) {
                createCustomAlert("Please Select User Type");
                return
            }
            if (checkIfFieldEmpty(fname)) {
                createCustomAlert("Please Enter First Name");
                return
            }
            if (checkIfFieldEmpty(lname)) {
                createCustomAlert("Please Enter Last Name");
                return
            }
            if (checkIfFieldEmpty(handle)) {
                createCustomAlert("Please Enter Handle");
                return
            }
            if (checkIfFieldEmpty(email)) {
                createCustomAlert("Please Enter Email");
                return
            }
            if (!validateEmail(email)) {
                createCustomAlert("Please Enter Valid Email Address");
                return
            }
            if (checkIfFieldEmpty(password)) {
                createCustomAlert("Please Enter Password");
                return
            }
            if (checkIfFieldEmpty(confirm_password)) {
                createCustomAlert("Please Enter Confirm Password");
                return
            }
            if (password !== confirm_password) {
                createCustomAlert("Your Passwords Don't Match");
                return
            }

            console.log('usertype value', x)
            if (x == "production") {
                modal_production.style.display = "block";
                modal_signup.style.display = "none";
            }
            if (x == "personal") {
                console.log('in personal modal');
                modal_personal.style.display = "block";
                modal_signup.style.display = "none";
            }
            if (x == "" || x == "company") {
                createCustomAlert("Please Select UserType");
            }
        }

        function nextCompanyModal() {

            // mandatory fields checks
            var c_name = document.getElementById('signup-companyName').value;
            var c_handle = document.getElementById('signup-companyHandle').value;
            var c_type = document.getElementById('company-type').value;

            if (checkIfFieldEmpty(c_name)) {
                createCustomAlert("Please Enter Company Name");
                return
            }
            if (checkIfFieldEmpty(c_handle)) {
                createCustomAlert("Please Enter Company Handle");
                return
            }
            if (checkIfFieldEmpty(c_type)) {
                createCustomAlert("Please Enter Company Type");
                return
            }

            modal_company.style.display = "none";
            modal_company2.style.display = "block";
        }

        function showSignUpModal() {
            modal_production.style.display = "none";

            modal_company.style.display = "none";
            modal_company2.style.display = "none";
            modal_personal.style.display = "none";
            modal_signup.style.display = "block";

        }
    </script>

    <!-- log in submit button event listener -->
    <script>
        var input1 = document.getElementById("signin-email");
        input1.addEventListener("keyup", function (event) {
            event.preventDefault();
            if (event.keyCode === 13) {
                document.getElementById("loginBtn").click();
            }
        });

        var input2 = document.getElementById("signin-password");
        input2.addEventListener("keyup", function (event) {
            event.preventDefault();
            if (event.keyCode === 13) {
                document.getElementById("loginBtn").click();
            }
        });

    </script>

    <div class="jumbotron">
        <br/>
        <br/>
        <br/>
        <br/>
        <br/>
        <br/>
        <p class="big">Theater: Anywhere, Anytime, For Anyone</h1>
            <p class="small"> Connecting the World Of Theater, while increasing collaboration and improving efficiency.</p>
    </div>
    <script>

        function companyImage(event) {
            var myCanvas = document.getElementById('mycanvascompany');
            var ctx = myCanvas.getContext('2d');
            var img = new Image();
            img.onload = function () {
                myCanvas.width = img.width;
                myCanvas.height = img.height;

                ctx.drawImage(img, 0, 0);
                upload_image_base64 = myCanvas.toDataURL('image/jpeg');
                // console.log('upload_image_base64 ---', upload_image_base64);
            };

            img.src = URL.createObjectURL(event.target.files[0]);
        }

        function testit(event) {
            var myCanvas = document.getElementById('mycanvas');
            var ctx = myCanvas.getContext('2d');
            var img = new Image();
            img.onload = function () {
                myCanvas.width = img.width;
                myCanvas.height = img.height;

                ctx.drawImage(img, 0, 0);
                upload_image_base64 = myCanvas.toDataURL('image/jpeg');
                // console.log('upload_image_base64 ---', upload_image_base64);
            };

            img.src = URL.createObjectURL(event.target.files[0]);
        }
    </script>
    <!-- Resource JavaScript -->
    <script src="./javascript/placeholders.min.js"></script>
    <script src="./javascript/loadAndRender.js"></script>

    <!-- polyfill for the HTML5 placeholder attribute -->
    <script src="./javascript/main.js"></script>
    <!-- Resource JavaScript -->
</body>

</html>